*Покончить с собой - уничтожить весь мир*  
(посвящается написанной четвертой защите вместо второй раньше времени)  
## 1. Модель клиент-сервер  
Прикладная программа ждет пока другое приложение не инициализирует связь/подключение.  
Клиент - инициализирует подключение  
Сервер - приложение ожидающее соединение   
## 2. Общие особенности клиентских программ  
1. Программа становится клиентом, когда требует удаленный доступ  
2. Вызывается пользователем на 1 сеанс  
3. Функционирует локально на рабочей станции пользователя  
4. Активно инициализирует с сервером  
5. Может подключаться к нескольким службам, но контактировать только с одним удаленным сервером  
6. Не требует доп. оборудования.   
## 3. Общие особенности серверных программ 
1. Программа - 1 служба - несколько клиентов  
2. Вызов во время загрузки системы = сеансы летят пачками  
3. Компьютер в общем пользовании  
4. Пассивно ожидает подключение  
5. Принимает запросы и представляют единственную службу  
6. Требует большой вычислительной мощности   
## 4. Общая схема клиент-серверного взаимодействия  
1. Запуск серверного приложения - ожидание запросов  
2. Обращение клиента, он указывает местонахождение сервера, запрос на обмен данными  
3. Обмен сообщениями  
4. Клиент и сервер говорят, что файл закончился  
## 5. Отличие между TCP и UDP
• **TCP** - протокол, который заранее проверяет связь между сервером и клиентом (Telnet/FTP/HTTP)  
1. Перед отправкой файлов делается запрос  
2. Фиксируется окончание сеанса  
3. Информация не дублируется, сохраняется порядок отправки  
4. Управление потоком (никаких перегрузок)  
5. Если упрощать систему -возрастет потребление трафика  
• **UDP** - не чекает и пробивает по IP   
1. Никакой надежности (есть костыли с проверкой)  
2. Загрузка трафика повторной раздачей  
## 6. Сокет. Виды сокетов  
 **Сокеты** - точки логического соединения клиента и сервера. находятся на транспортном уровне, скрывает проблемы, возникающие на других уровнях. Настройка обычно по API - интерфейс WinSock32   
 Работа с сокетами может быть высоко- и низко- уровневой.   
 (IP:port)  
 Порты интернета (0-1023), а для разработки >1024  
## 7. Основные методы работы с сокетами  
1. Soсket - подключение сокета  
2. bind - привязка к конкретному адресу, ибо сокет создается для семейства адресов  
3. listen - установка линии прослушивания сети  
4. accept - обработка очереди  
5. connect - функция подключения к серверу  
6. send/sendto - передача к подключенному/неподключенному серверу  
7. recv/recvfrom - прием к подключенному/неподключенному серверу  
8. close - закрытие подключения  
## 8. Схема взаимодействия клиента с сервером при использовании механизма сокетов  
Локальный и удаленный?  
Если клиент запрашивает соединение с сервером, сервер разрешает его (или нет) и создает новый сокет, который будет конечной точкой связи. Благодаря этому сокет, по которому происходило прослушивание, не используется для передачи данных и может находиться в режиме прослушивания дальше, принимая запросы новых клиентов.